---
interface MenuItemProps {
  name: string;
  description: string;
  price: number;
  icon: keyof typeof icons;
  image: string;
}

import LocalCafeOutlinedIcon from "@mui/icons-material/LocalCafeOutlined";
import LocalDrinkOutlinedIcon from "@mui/icons-material/LocalDrinkOutlined";
import BubbleChartOutlinedIcon from "@mui/icons-material/BubbleChartOutlined";
import CookieOutlinedIcon from "@mui/icons-material/CookieOutlined";
import ImageZoom from "@components/ImageZoom.tsx";

const icons = {
  LocalCafeOutlinedIcon,
  LocalDrinkOutlinedIcon,
  BubbleChartOutlinedIcon,
  CookieOutlinedIcon,
};

const { name, description, price, icon, image } = Astro.props as MenuItemProps;

const SelectedIcon = icons[icon] ?? CookieOutlinedIcon;
---

<article
  class="flex gap-3 items-start bg-white/40 rounded-xl p-4 shadow-sm font-inter"
>
  {
    image ? (
      <ImageZoom
        client:only="react"
        src={`/foodImg/${image}`}
        alt={name}
        thumbnailClass="w-16 h-20 rounded-lg object-cover"
      />
    ) : (
      <div class="bg-secondary text-white w-16 h-20 p-3 rounded-lg flex items-center justify-center">
        <SelectedIcon />
      </div>
    )
  }
  <div class="flex-1">
    <div class="flex justify-between items-start">
      <h3 class="font-semibold">{name}</h3>
      <span class="font-semibold text-sm text-text">${price}</span>
    </div>
    <p class="text-sm text-text/80">{description}</p>
  </div>
</article>
